{"version":3,"file":"index-cebd6bac.js","sources":["../../src/helpers/index.js"],"sourcesContent":["const MORE_PAGES = '...';\r\n\r\nfunction debounce (func, wait, immediate) {\r\n  let timeout;\r\n  return function () {\r\n    const context = this;\r\n    const args = arguments;\r\n    clearTimeout(timeout);\r\n    if (immediate && !timeout) {\r\n      func.apply(context, args);\r\n    }\r\n    timeout = setTimeout(function () {\r\n      timeout = null;\r\n      if (!immediate) {\r\n        func.apply(context, args);\r\n      }\r\n    }, wait);\r\n  };\r\n};\r\n\r\n// https://jsperf.com/object-empty-ch/1\r\nfunction isEmptyObject (obj) {\r\n  for (const key in obj) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction createPagingRange (nrOfPages, currentPage) {\r\n  const delta = 2;\r\n  const range = [];\r\n  const rangeWithDots = [];\r\n  let length;\r\n\r\n  range.push(1);\r\n\r\n  if (nrOfPages <= 1) {\r\n    return range;\r\n  }\r\n\r\n  for (let i = currentPage - delta; i <= currentPage + delta; i++) {\r\n    if (i < nrOfPages && i > 1) {\r\n      range.push(i);\r\n    }\r\n  }\r\n  range.push(nrOfPages);\r\n\r\n  for (let i = 0; i < range.length; i++) {\r\n    if (length) {\r\n      if (range[i] - length === 2) {\r\n        rangeWithDots.push(length + 1);\r\n      } else if (range[i] - length !== 1) {\r\n        rangeWithDots.push(MORE_PAGES);\r\n      }\r\n    }\r\n    rangeWithDots.push(range[i]);\r\n    length = range[i];\r\n  }\r\n  return rangeWithDots;\r\n}\r\n\r\nfunction fieldSorter (fields, dsSortAs = {}) {\r\n  const dir = [];\r\n  let i;\r\n  const length = fields.length;\r\n  fields = fields.map(function (o, i) {\r\n    if (o[0] === '-') {\r\n      dir[i] = -1;\r\n      o = o.substring(1);\r\n    } else {\r\n      dir[i] = 1;\r\n    }\r\n    return o;\r\n  });\r\n\r\n  return function (a, b) {\r\n    for (i = 0; i < length; i++) {\r\n      const o = fields[i];\r\n      const aVal = dsSortAs[o] ? dsSortAs[o](a.value[o]) : a.value[o];\r\n      const bVal = dsSortAs[o] ? dsSortAs[o](b.value[o]) : b.value[o];\r\n      if (aVal > bVal) {\r\n        return dir[i];\r\n      }\r\n      if (aVal < bVal) {\r\n        return -(dir[i]);\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n}\r\n\r\nfunction fieldFilter (items, filterFields) {\r\n  // Filter it by field\r\n  for (const filterKey in filterFields) {\r\n    // console.log(filterKey + ' -> ' + filterFields[filterKey]);\r\n    items = items.filter(function (item) {\r\n      const itemValue = item.value;\r\n      for (const itemKey in itemValue) {\r\n        if (itemKey === filterKey) {\r\n          if (typeof filterFields[filterKey] === 'function') {\r\n            return filterFields[filterKey](itemValue[itemKey]);\r\n          }\r\n          if (filterFields[filterKey] === '') {\r\n            return true;\r\n          }\r\n          if (itemValue[itemKey] === filterFields[filterKey]) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n  return items;\r\n}\r\n\r\n// Search method that also takes into account transformations needed\r\nfunction findAny (dsSearchIn, dsSearchAs, obj, str) {\r\n  // Convert the search string to lower case\r\n  str = str.toLowerCase();\r\n  for (const key in obj) {\r\n    if (dsSearchIn.length === 0 || dsSearchIn.indexOf(key) !== -1) {\r\n      const value = String(obj[key]).toLowerCase();\r\n      for (const field in dsSearchAs) {\r\n        if (field === key) {\r\n          // Found key in dsSearchAs so we pass the value and the search string to a search function\r\n          // that returns true/false and we return that if true.\r\n          /* Check if dsSearchAs is a function (passed from the template) */\r\n          if (typeof dsSearchAs[field] === 'function') {\r\n            const res = dsSearchAs[field](value, str);\r\n            if (res === true) {\r\n              return res;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // If it doesn't return from above we perform a simple search\r\n      if (value.indexOf(str) >= 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport { MORE_PAGES, debounce, isEmptyObject, createPagingRange, fieldSorter, fieldFilter, findAny };\r\n"],"names":[],"mappings":"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"}