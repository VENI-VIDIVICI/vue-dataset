!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).VueDataset=e()}(this,(function(){"use strict";function t(t,e){return t>e?1:t<e?-1:0}function e(t,e,n,s){for(var r in s=s.toLowerCase(),n)if(0===t.length||-1!==t.indexOf(r)){var i=String(n[r]).toLowerCase();for(var o in e)if(o===r){if("string"==typeof e[o]){var d=this[e[o]](i,s);if(!0===d)return d}if("function"==typeof e[o]){var u=e[o](i,s);if(!0===u)return u}}if(i.indexOf(s)>=0)return!0}return!1}function n(t,e,n,s,r,i,o,d,u,a){"boolean"!=typeof o&&(u=d,d=o,o=!1);var f,c="function"==typeof n?n.options:n;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),s&&(c._scopeId=s),i?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=f):e&&(f=o?function(t){e.call(this,a(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,d(t))}),f)if(c.functional){var h=c.render;c.render=function(t,e){return f.call(e),h(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,f):[f]}return n}var s={provide:function(){var t=this;return{search:function(e){t.dsSearch=e},showEntries:function(e){t.dsShowEntries=e},setActive:function(e){t.setActive(e)}}},props:{dsData:{type:Array,default:function(){return[]}},dsFilterFields:{type:Object,default:function(){}},dsSortby:{type:String,default:""},dsSearchIn:{type:Array,default:function(){return[]}},dsSearchAs:{type:Object,default:function(){}}},data:function(){return{dsShowEntries:10,dsPage:1,dsSearch:""}},computed:{indexes:function(){var n=[],s=this.dsData||[],r=this.dsSearch,i=this.dsSortby,o=this.dsFilterFields,d=this.dsSearchIn,u=this.dsSearchAs;if(r||i||o&&0!==Object.keys(o).length){for(var a in n=s.map((function(t,e){return{index:e,value:t}})),o)n=n.filter((function(t){var e=t.value;for(var n in e)if(n===a){if(""===o[a])return!0;if(e[n]===o[a])return!0}return!1}));if(r&&(n=n.filter(function(t){return e.call(this,d,u,t.value,r)}.bind(this))),i)"-"===i.charAt(0)?(i=i.substr(1),n=n.sort((function(e,n){return t(n.value[i],e.value[i])}))):n=n.sort((function(e,n){return t(e.value[i],n.value[i])}));n=n.map((function(t){return t.index}))}else n=s.map((function(t,e){return e}));return n},dsRows:function(){return this.indexes.slice(this.dsFrom,this.dsTo)},dsPages:function(){var t,e=this.dsPage,n=this.dsPagecount,s=[],r=[];if(s.push(1),n<=1)return s;for(var i=e-2;i<=e+2;i++)i<n&&i>1&&s.push(i);s.push(n);for(var o=0;o<s.length;o++)t&&(s[o]-t==2?r.push(t+1):s[o]-t!=1&&r.push("...")),r.push(s[o]),t=s[o];return r},dsResultsNumber:function(){return this.indexes.length},dsPagecount:function(){return Math.ceil(this.dsResultsNumber/this.dsShowEntries)},dsFrom:function(){return(this.dsPage-1)*this.dsShowEntries},dsTo:function(){return this.dsPage*this.dsShowEntries}},watch:{dsData:{handler:function(t,e){this.setActive(1)}}},methods:{setActive:function(t){this.dsPage=t}}},r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default",null,{ds:{dsShowEntries:t.dsShowEntries,dsResultsNumber:t.dsResultsNumber,dsPage:t.dsPage,dsPagecount:t.dsPagecount,dsFrom:t.dsFrom,dsTo:t.dsTo,dsData:t.dsData,dsRows:t.dsRows,dsPages:t.dsPages}})],2)};r._withStripped=!0;return n({render:r,staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0)}));
//# sourceMappingURL=vue-dataset.umd.min.js.map
