!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t=t||self).Dataset=e(t.Vue)}(this,(function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e,n=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(e){e.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"8bbf":function(e,n){e.exports=t},fb15:function(t,e,n){var r;(n.r(e),"undefined"!=typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=n("8bbf"),i=n.n(o);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=function(){return i.a.observable({})},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(t)||"object"!==s(t))return t;var n=Array.isArray(e)?e:Object.keys(e),r=!Array.isArray(e);return n.reduce((function(n,o){return n[r?e[o]:o]=t[o],n}),{})};function c(t){console.error("[vue-reactive-provide]: ".concat(t))}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,n=t.nameForComputed,r=void 0===n?null:n,o=t.props,s=void 0!==o&&o,f=t.attrs,h=void 0!==f&&f,l=t.listeners,p=void 0!==l&&l,v=t.include,y=void 0!==v&&v,b=t.inheritAs,m=void 0!==b&&b;if(e){var g="",S=r||e;return{beforeCreate:function(){this[g="$_reactiveProvide-".concat(e,"-Data")]=u()},provide:function(){return d({},e,this[g])},inject:m?d({},m,{from:e,default:{}}):void 0,computed:d({},S,(function(){var t={};return m&&Object.assign(t,this[m]),y&&Object.assign(t,a(this,y)),s&&Object.assign(t,this.$props),h&&Object.assign(t,this.$attrs),p&&Object.assign(t,this.$listeners),t})),watch:d({},S,{immediate:!0,handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this[g];Object.keys(t).forEach((function(n){e.hasOwnProperty(n)?e[n]=t[n]:i.a.set(e,n,t[n])}))}})}}c("[vue-reactive-provide]: No name property found on options object when trying to create mixin.\n      the 'name' property is required.")}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=i.a.config.optionMergeStrategies,p=l.provide,v=l.computed,y=l.inject;var b={install:function(t,e){t.mixin(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,n=void 0===e?"reactiveProvide":e;return{beforeCreate:function(){var t=this,e=this.$options[n];if(e&&("function"==typeof e&&(e=e.call(this,this)),"object"===h(e))){var r=f(e),o=r.beforeCreate,i=r.provide,s=r.inject,u=r.computed,a=r.watch;o.call(this,this),this.$options.computed=v(this.$options.computed,u,this,"computed"),this.$options.provide=p(this.$options.provide,i,this,"provide"),this.$options.inject=y(this.$options.inject,s,this,"inject"),this.$once("hook:created",(function(){var n=t.$watch((function(){return t[e.name]}),a[e.name].handler,{immediate:!0});t.$on("hook:beforeDestroy",n)}))}}}}(e))},version:"0.3.0"};n.d(e,"ReactiveProvideMixin",(function(){return f}));e.default=b}})}));(e=n)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default;var r=n.ReactiveProvideMixin,o={show:"Show",entries:"entries",previous:"Previous",next:"Next",showing:"Showing",showingTo:"to",showingOf:"of",showingEntries:"entries"};function i(t){for(var e in t)return!1;return!0}function s(t,e,n,r){for(var o in r=r.toLowerCase(),n)if(0===t.length||-1!==t.indexOf(o)){var i=String(n[o]).toLowerCase();for(var s in e)if(s===o){if("string"==typeof e[s]){var u=this[e[s]](i,r);if(!0===u)return u}if("function"==typeof e[s]){var a=e[s](i,r);if(!0===a)return a}}if(i.indexOf(r)>=0)return!0}return!1}function u(t,e,n,r,o,i,s,u,a,c){"boolean"!=typeof s&&(a=u,u=s,s=!1);var d,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),r&&(f._scopeId=r),i?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=d):e&&(d=s?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),d)if(f.functional){var h=f.render;f.render=function(t,e){return d.call(e),h(t,e)}}else{var l=f.beforeCreate;f.beforeCreate=l?[].concat(l,d):[d]}return n}var a={provide:function(){return{search:this.search,showEntries:this.showEntries,setActive:this.setActive,datasetI18n:this.datasetI18n}},mixins:[r({name:"ds",include:["dsData","dsRows","dsResultsNumber","dsFrom","dsTo","dsPages","dsPagecount","dsPage"]})],props:{dsData:{type:Array,default:function(){return[]}},dsFilterFields:{type:Object,default:function(){return{}}},dsSortby:{type:Array,default:function(){return[]}},dsSearchIn:{type:Array,default:function(){return[]}},dsSearchAs:{type:Object,default:function(){return{}}}},data:function(){return{dsPage:1,dsSearch:"",dsShowEntries:10,datasetI18n:o}},computed:{indexes:function(){var t,e,n,r,o=[],u=this.dsData,a=this.dsSearch,c=this.dsSortby,d=this.dsFilterFields,f=this.dsSearchIn,h=this.dsSearchAs;return a||c.length||!i(d)?(o=u.map((function(t,e){return{index:e,value:t}})),i(d)||(o=function(t,e){var n=function(n){t=t.filter((function(t){var r=t.value;for(var o in r)if(o===n){if("function"==typeof e[n])return e[n](r[o]);if(""===e[n])return!0;if(r[o]===e[n])return!0}return!1}))};for(var r in e)n(r);return t}(o,d)),a&&(o=o.filter(function(t){return s.call(this,f,h,t.value,a)}.bind(this))),c.length&&o.sort((n=[],r=(t=c).length,t=t.map((function(t,e){return"-"===t[0]?(n[e]=-1,t=t.substring(1)):n[e]=1,t})),function(o,i){for(e=0;e<r;e++){var s=t[e];if(o.value[s]>i.value[s])return n[e];if(o.value[s]<i.value[s])return-n[e]}return 0})),o=o.map((function(t){return t.index}))):o=u.map((function(t,e){return e})),o},dsRows:function(){return this.indexes.slice(this.dsFrom,this.dsTo)},dsPages:function(){return function(t,e){var n,r=[],o=[];if(r.push(1),t<=1)return r;for(var i=e-2;i<=e+2;i++)i<t&&i>1&&r.push(i);r.push(t);for(var s=0;s<r.length;s++)n&&(r[s]-n==2?o.push(n+1):r[s]-n!=1&&o.push("...")),o.push(r[s]),n=r[s];return o}(this.dsPagecount,this.dsPage)},dsResultsNumber:function(){return this.indexes.length},dsPagecount:function(){return Math.ceil(this.dsResultsNumber/this.dsShowEntries)},dsFrom:function(){return(this.dsPage-1)*this.dsShowEntries},dsTo:function(){return this.dsPage*this.dsShowEntries}},watch:{dsResultsNumber:{handler:function(t,e){this.setActive(1)}}},methods:{search:function(t){this.dsSearch=t},showEntries:function(t){var e=this,n=this.dsPages;this.dsShowEntries=t,this.$nextTick((function(){var t=e.dsPages;t.length<n.length&&e.setActive(t[t.length-1])}))},setActive:function(t){this.dsPage=t}}},c=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default",null,{ds:{dsShowEntries:t.dsShowEntries,dsResultsNumber:t.dsResultsNumber,dsPage:t.dsPage,dsPagecount:t.dsPagecount,dsFrom:t.dsFrom,dsTo:t.dsTo,dsData:t.dsData,dsRows:t.dsRows,dsPages:t.dsPages}})],2)};c._withStripped=!0;return u({render:c,staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0)}));
//# sourceMappingURL=Dataset.min.js.map
